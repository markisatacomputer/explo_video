"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var PlayerControllerFlv=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,PlayerController),_createClass(t,[{key:"getPlayer",value:function(){var u=this;return new Promise(function(e,t){var r,n,o,i,a;o=(n=document.getElementById(u.elId)).getAttribute("data-dirname"),i=n.getAttribute("data-filename"),a=n.getAttribute("data-thumb"),(r=new SWFObject("/sites/all/libraries/tv/flvplayer.swf",i,"100%","100%","7","#000")).addParam("allowfullscreen","true"),r.addVariable("file",o),r.addVariable("image",a),r.addVariable("id",i),r.addVariable("overstretch","fit"),r.write(u.elId),e(r)})}},{key:"pause",value:function(){this.getPlayer().then(function(e){self.player=e})}},{key:"updateSource",value:function(r){var n=this,e=document.getElementById(n.elId);return e.setAttribute("data-dirname",r.dirname),e.setAttribute("data-filename",r.filename),e.setAttribute("data-thumb",r.thumb),this.mediaId=r.mediaId,new Promise(function(e,t){n.getPlayer().then(function(){e(r.mediaId)})})}}]),t}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBsYXllckNvbnRyb2xsZXJGbHYuanMiXSwibmFtZXMiOlsiUGxheWVyQ29udHJvbGxlckZsdiIsIlBsYXllckNvbnRyb2xsZXIiLCJzZWxmIiwidGhpcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic3dmIiwiZWwiLCJkaXJuYW1lIiwiZmlsZW5hbWUiLCJ0aHVtYiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJlbElkIiwiZ2V0QXR0cmlidXRlIiwiU1dGT2JqZWN0IiwiYWRkUGFyYW0iLCJhZGRWYXJpYWJsZSIsIndyaXRlIiwiZ2V0UGxheWVyIiwidGhlbiIsInBsYXllciIsIm1lZGlhIiwic2V0QXR0cmlidXRlIiwibWVkaWFJZCJdLCJtYXBwaW5ncyI6Ims2Q0FXTUEseUtBQTRCQyxvRUFHOUIsSUFBSUMsRUFBT0MsS0FrQlgsT0FoQmMsSUFBSUMsUUFBUyxTQUFDQyxFQUFTQyxHQUNuQyxJQUFJQyxFQUFLQyxFQUFJQyxFQUFTQyxFQUFVQyxFQUVoQ0YsR0FEQUQsRUFBS0ksU0FBU0MsZUFBZVgsRUFBS1ksT0FDckJDLGFBQWEsZ0JBbkJoQ0wsRUFBQUYsRUFBQU8sYUFBQSxpQkFxQk1KLEVBQVFILEVBQUdPLGFBQWEsZUFDeEJSLEVBQU0sSUFBSVMsVUFBVSx3Q0FBd0NOLEVBQVMsT0FBTyxPQUFPLElBQUksU0FDbkZPLFNBQVMsa0JBQWtCLFFBQy9CVixFQUFJVyxZQUFZLE9BQU9ULEdBQ3ZCRixFQUFJVyxZQUFZLFFBQVFQLEdBQ3hCSixFQUFJVyxZQUFZLEtBQUtSLEdBQ3JCSCxFQUFJVyxZQUFZLGNBQWMsT0FDOUJYLEVBQUlZLE1BQU1qQixFQUFLWSxNQUNmVCxFQUFRRSxxQ0FPVkosS0FBS2lCLFlBQVlDLEtBQUssU0FBQ0MsR0FDckJwQixLQUFLb0IsT0FBU0EseUNBSUxDLEdBQ1gsSUFBSXJCLEVBQU9DLEtBNUJYSyxFQUFJTixTQUFKVyxlQUFBWCxFQUFBWSxNQWFFUCxPQVhGQyxFQUFBZ0IsYUFBYyxlQUFhRCxFQUFDbEIsU0FDMUJHLEVBQUFnQixhQUFBLGdCQUFzQmQsRUFBVUMsVUFDaENILEVBQUFBLGFBQUtJLGFBQVNDLEVBQWVYLE9BQzdCTyxLQUFBQSxRQUFVRCxFQUFHTyxRQUVILElBQUNBLFFBQUgsU0FBZ0JWLEVBQUFDLEdBQ3hCQyxFQUFHYSxZQUFPSixLQUFVLFdBQ3BCVCxFQUFJVSxFQUFTUSIsImZpbGUiOiJQbGF5ZXJDb250cm9sbGVyRmx2Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogIE1lZGlhIE9iamVjdCBGTFYgUGxheWVyIENvbnRyb2xsZXJcbiAqXG4gKiBAbW9kdWxlIGV4cGxvX3ZpZGVvXG4gKlxuICogQHNlZSBodHRwOi8vYmxvZy5kZWNvbmNlcHQuY29tL3N3Zm9iamVjdC9cbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9FbGVtZW50L2VtYmVkXG4gKlxuICogQG5vdGUgIEJlY2F1c2Ugd2UgY2FuJ3QgY29udHJvbCBwbGF5YmFjaywgd2Ugd2lsbCByZWxvYWQgZmx2IG9uIHBhdXNlKCksIHBsYXkoKSB3aWxsIHNpbXBseSBiZSBpZ25vcmVkLlxuICovXG5cbmNsYXNzIFBsYXllckNvbnRyb2xsZXJGbHYgZXh0ZW5kcyBQbGF5ZXJDb250cm9sbGVyIHtcblxuICBnZXRQbGF5ZXIgKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHZhciBzd2YsIGVsLCBkaXJuYW1lLCBmaWxlbmFtZSwgdGh1bWI7XG4gICAgICBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGYuZWxJZCk7XG4gICAgICBkaXJuYW1lID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWRpcm5hbWUnKTtcbiAgICAgIGZpbGVuYW1lID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWZpbGVuYW1lJyk7XG4gICAgICB0aHVtYiA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS10aHVtYicpO1xuICAgICAgc3dmID0gbmV3IFNXRk9iamVjdChcIi9zaXRlcy9hbGwvbGlicmFyaWVzL3R2L2ZsdnBsYXllci5zd2ZcIixmaWxlbmFtZSxcIjEwMCVcIixcIjEwMCVcIixcIjdcIixcIiMwMDBcIik7XG4gICAgICBzd2YuYWRkUGFyYW0oXCJhbGxvd2Z1bGxzY3JlZW5cIixcInRydWVcIik7XG4gICAgICBzd2YuYWRkVmFyaWFibGUoXCJmaWxlXCIsZGlybmFtZSk7XG4gICAgICBzd2YuYWRkVmFyaWFibGUoXCJpbWFnZVwiLHRodW1iKTtcbiAgICAgIHN3Zi5hZGRWYXJpYWJsZShcImlkXCIsZmlsZW5hbWUpO1xuICAgICAgc3dmLmFkZFZhcmlhYmxlKFwib3ZlcnN0cmV0Y2hcIixcImZpdFwiKTtcbiAgICAgIHN3Zi53cml0ZShzZWxmLmVsSWQpO1xuICAgICAgcmVzb2x2ZShzd2YpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBwYXVzZSgpIHtcbiAgICB0aGlzLmdldFBsYXllcigpLnRoZW4oKHBsYXllcikgPT4ge1xuICAgICAgc2VsZi5wbGF5ZXIgPSBwbGF5ZXI7XG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGVTb3VyY2UobWVkaWEpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxmLmVsSWQpO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1kaXJuYW1lJywgbWVkaWEuZGlybmFtZSk7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLWZpbGVuYW1lJywgbWVkaWEuZmlsZW5hbWUpO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS10aHVtYicsIG1lZGlhLnRodW1iKTtcbiAgICB0aGlzLm1lZGlhSWQgPSBtZWRpYS5tZWRpYUlkO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2VsZi5nZXRQbGF5ZXIoKS50aGVuKCgpID0+IHtcbiAgICAgICAgcmVzb2x2ZShtZWRpYS5tZWRpYUlkKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cbn1cbiJdfQ==
